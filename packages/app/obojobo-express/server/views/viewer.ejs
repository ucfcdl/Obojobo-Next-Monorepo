<!DOCTYPE html>
<html lang="en">

<head>
	<%
			const title = 'Obojobo Next Document Viewer'
			const css = [
				webpackAssetPath('viewer.css'),
			]
			const headerJs = []
			const footerJs = [
				assetForEnv('//unpkg.com/react@16.13.1/umd/react.$[development|production.min].js'),
				assetForEnv('//unpkg.com/react-dom@16.13.1/umd/react-dom.$[development|production.min].js'),
				assetForEnv('//unpkg.com/underscore@1.11.0/underscore$[-min].js'),
				assetForEnv('//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone$[-min].js'),
				webpackAssetPath('viewer.js')
			]
			const fonts = ['//fonts.googleapis.com/css?family=Libre+Franklin:400,400i,700,700i,900,900i|Roboto+Mono:400,400i,700,700i|Noto+Serif:400,400i,700,700i&display=swap']
		%>
		<%- include('./partials/head', {title, css, fonts, headerJs}) %>
		<%
		if (typeof footerJs !== 'undefined')
		{
			footerJs.forEach(function(href) { %>
			<script defer src="<%= href %>"></script>
			<% })
		}
	%>
</head>

<body>
	<div id="viewer-app"></div>
	<div id="app-loading">
		<%- include('./partials/loading', {loadingMessage: draftTitle}) %>
	</div>
	<script>document.addEventListener('DOMContentLoaded', () => {window.__oboViewerRender()})</script>
</body>

</html>
